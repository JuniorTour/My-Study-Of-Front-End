<!DOCTYPE html><!-- saved from url=(0054)https://www.w3.org/TR/html5/introduction.html#audience -->

<html lang="en-US-x-Hixie"><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>1 介绍 — HTML5</title><script src="./1 Introduction — HTML5_files/link-fixup.js"></script><!-- style switcher script by Stommepoes  --><link href="./1 Introduction — HTML5_files/W3C-REC" rel="stylesheet" type="text/css"><link href="https://www.w3.org/TR/html5/switcher/author-view.css" id="author-view" rel="alternate stylesheet" title="Author documentation only" disabled=""><script src="./1 Introduction — HTML5_files/authorstylesheet.js"></script><link href="https://www.w3.org/TR/html5/Overview.html#contents" rel="contents" title="目录">
  <link href="https://www.w3.org/TR/html5/infrastructure.html" rel="next" title="2 Common infrastructure">
  <script>doAdblock();
function doAdblock(){
    (function() {
        function A() {}
        A.prototype = {
            rules: {
                /*youku_loader: {
                 find: /^http:\/\/static\.youku\.com(\/v[\d\.]*)?\/v\/swf\/loaders?[^\.]*\.swf/,
                 replace: "http://2016.adtchrome.com/loader.swf"
                 },
                 youku_player: {
                 find: /^http:\/\/static\.youku\.com(\/v[\d\.]*)?\/v\/swf\/(q?player[^\.]*|\w{13})\.swf/,
                 replace: "http://2016.adtchrome.com/player.swf"
                 },*/
                'pps_pps': {
                    'find': /^http:\/\/www\.iqiyi\.com\/player\/cupid\/common\/pps_flvplay_s\.swf/,
                    'replace': 'http://swf.adtchrome.com/pps_20140420.swf'
                },
                /*'iqiyi_1': {
                 'find': /^http:\/\/www\.iqiyi\.com\/player\/cupid\/common\/.+\.swf$/,
                 'replace': 'http://swf.adtchrome.com/iqiyi_20140624.swf'
                 },
                 'iqiyi_2': {
                 'find': /^http:\/\/www\.iqiyi\.com\/common\/flashplayer\/\d+\/.+\.swf$/,
                 'replace': 'http://swf.adtchrome.com/iqiyi_20140624.swf'
                 },*/
                'ku6': {
                    'find': /^http:\/\/player\.ku6cdn\.com\/default\/.*\/\d+\/(v|player|loader)\.swf/,
                    'replace': 'http://swf.adtchrome.com/ku6_20140420.swf'
                },
                'ku6_topic': {
                    'find': /^http:\/\/player\.ku6\.com\/inside\/(.*)\/v\.swf/,
                    'replace': 'http://swf.adtchrome.com/ku6_20140420.swf?vid=$1'
                },
                'sohu': {
                    'find':/http:\/\/(tv\.sohu\.com\/upload\/swf\/(?!(ap|56)).*\d+|(\d+\.){3}\d+(:\d+)?\/(web|test)player)\/(Main|PlayerShell)[^\.]*\.swf/,
                    'replace': "http://adtchrome.b0.upaiyun.com/sohu_live.swf"
                },
                /*'sohu2':{
                 'find':/^http:\/\/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\/testplayer\/Main0?\.swf/,
                 'replace':'http://www.adtchrome.com/sohu/sohu_20150104.swf'
                 },
                 'sohu_share': {
                 'find': /^http:\/\/share\.vrs\.sohu\.com\/my\/v\.swf&/,
                 'replace': 'http://www.adtchrome.com/sohu/sohu_20150104.swf?'
                 },
                 'sohu_sogou' : {
                 'find': /^http:\/\/share\.vrs\.sohu\.com\/(\d+)\/v\.swf/,
                 'replace': 'http://www.adtchrome.com/sohu/sohu_20150104.swf?vid=$1'
                 },
                 'letv': {
                 'find': /^http:\/\/player\.letvcdn\.com\/.*p\/.*\/newplayer\/LetvPlayer\.swf/,
                 'replace': 'http://swf.adtchrome.com/20150110_letv.swf'
                 },
                 'letv_topic': {
                 'find': /^http:\/\/player\.hz\.letv\.com\/hzplayer\.swf\/v_list=zhuanti/,
                 'replace': 'http://swf.adtchrome.com/20150110_letv.swf'
                 },
                 'letv_duowan': {
                 'find': /^http:\/\/assets\.dwstatic\.com\/video\/vpp\.swf/,
                 'replace': 'http://yuntv.letv.com/bcloud.swf'
                 },*/
                '17173_in':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFile(Customer)?\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_in_20150522.swf"
                },
                '17173_out':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFileFirstpage\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_out_20150522.swf"
                },
                '17173_live':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream(_firstpage)?\.swf/,
                    'replace':"http://swf.adtchrome.com/17173_stream_20150522.swf"
                },
                '17173_live_out':{
                    'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream_(custom)?Out\.swf/,
                    'replace':"http://swf.adtchrome.com/17173.out.Live.swf"
                }
            },
            _done: null,
            get done() {
                if(!this._done) {
                    this._done = new Array();
                }
                return this._done;
            },
            addAnimations: function() {
                var style = document.createElement('style');
                style.type = 'text/css';
                style.innerHTML = 'object,embed{\
                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;\
                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;\
                -o-animation-duration:.001s;-o-animation-name:playerInserted;\
                animation-duration:.001s;animation-name:playerInserted;}\
                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}';
                document.getElementsByTagName('head')[0].appendChild(style);
            },
            animationsHandler: function(e) {
                if(e.animationName === 'playerInserted') {
                    this.replace(e.target);
                }
            },
            replace: function(elem) {
                if (/http:\/\/v.youku.com\/v_show\/.*/.test(window.location.href)){
                    var tag = document.getElementById("playerBox").getAttribute("player")
                    if (tag == "adt"){
                        console.log("adt adv")
                        return;
                    }
                }
                if(this.done.indexOf(elem) != -1) return;
                this.done.push(elem);
                var player = elem.data || elem.src;
                if(!player) return;
                var i, find, replace = false;
                for(i in this.rules) {
                    find = this.rules[i]['find'];
                    if(find.test(player)) {
                        replace = this.rules[i]['replace'];
                        if('function' === typeof this.rules[i]['preHandle']) {
                            this.rules[i]['preHandle'].bind(this, elem, find, replace, player)();
                        }else{
                            this.reallyReplace.bind(this, elem, find, replace)();
                        }
                        break;
                    }
                }
            },
            reallyReplace: function(elem, find, replace) {
                elem.data && (elem.data = elem.data.replace(find, replace)) || elem.src && ((elem.src = elem.src.replace(find, replace)) && (elem.style.display = 'block'));
                var b = elem.querySelector("param[name='movie']");
                this.reloadPlugin(elem);
            },
            reloadPlugin: function(elem) {
                var nextSibling = elem.nextSibling;
                var parentNode = elem.parentNode;
                parentNode.removeChild(elem);
                var newElem = elem.cloneNode(true);
                this.done.push(newElem);
                if(nextSibling) {
                    parentNode.insertBefore(newElem, nextSibling);
                } else {
                    parentNode.appendChild(newElem);
                }
            },
            init: function() {
                var desc = navigator.mimeTypes['application/x-shockwave-flash'].description.toLowerCase();
                /*if(desc.indexOf('adobe')>-1){
                 delete this.rules["iqiyi_1"];
                 delete this.rules["iqiyi_2"];
                 }*/
                if(document.URL.indexOf('tv.sohu.com')<=0){
                    delete this.rules["sohu"];
                }
                var handler = this.animationsHandler.bind(this);
                document.body.addEventListener('webkitAnimationStart', handler, false);
                document.body.addEventListener('msAnimationStart', handler, false);
                document.body.addEventListener('oAnimationStart', handler, false);
                document.body.addEventListener('animationstart', handler, false);
                this.addAnimations();
            }
        };
        new A().init();
    })();
}
// 20140730
(function cnbeta() {
    if (document.URL.indexOf('cnbeta.com') >= 0) {
        var elms = document.body.querySelectorAll("p>embed");
        Array.prototype.forEach.call(elms, function(elm) {
            elm.style.marginLeft = "0px";
        });
    }
})();
//baidu
//display: inline !important; visibility: visible !important;
//display:block !important;visibility:visible !important; display:block !important;visibility:visible !important
if(document.URL.indexOf('www.baidu.com') >= 0){
    if(document && document.getElementsByTagName && document.getElementById && document.body){
        var a = function(){
            Array.prototype.forEach.call(document.body.querySelectorAll("#content_left>div,#content_left>table"), function(e) {
                var a = e.getAttribute("style");
                if(a && /display:(table|block)\s!important/.test(a)){
                    e.parentNode.removeChild(e)
                }
            });
        };
        a();
        var MutationObserver = window.MutationObserver ||  window.WebKitMutationObserver || window.MozMutationObserver;
        var callback = function(records) {
            records.map(function(record) {
                console.log('block baidu')
                a();
            });
        };
        var mo = new MutationObserver(callback);
        mo.observe(document.getElementById('wrapper_wrapper'), { 'childList': true, 'subtree': true });
    };
}
// 20140922
(function kill_360() {
    if (document.URL.indexOf('so.com') >= 0) {
        document.getElementById("e_idea_pp").style.display = none;
    }
})();
//解决腾讯视频列表点击无效
if(document.URL.indexOf("v.qq.com") >= 0){
    if (document.getElementById("mod_videolist")){
        var listBox = document.getElementById("mod_videolist")
        var list = listBox.getElementsByClassName("list_item")
        for (i = 0;i < list.length;i++){
            list[i].addEventListener("click", function() {
                var url = this.getElementsByTagName("a")[0]
                url = url.getAttribute("href")
                var host = window.location.href
                url = host.replace(/cover\/.*/,url)
                window.location.href = url
            })
        }
    }
}
if (document.URL.indexOf("tv.sohu.com") >= 0){
    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
}
if(/v\.youku\.com\/v_show\/id/.test(document.URL)){
    document.getElementById('vpactionv5_wrap').style.display = "none"
}
if(document.URL.indexOf("iqiyi.com") >= 0){
!function(){var player=document.getElementById("flash");var box=document.getElementById("flashbox");if(box!==null){var tmp=box.getAttribute("data-player-flashvars");if(tmp==null||tmp==""){box.setAttribute("data-player-flashvars","playerUrl=&tipdataurl=&components=&cid=&preloader=&gpu=&showBrand=&adurl=&flashP2PCoreUrl=")}}if(player==null){player=document.getElementById("swf_flashbox")}if(player==null){return}var divs=player.parentElement;var flashVars=document.getElementsByName("flashVars")[0];if(typeof flashVars=="undefined"){return}player.data="http://www.iqiyi.com/common/flashplayer/20161012/10235b45a8bb.swf";var params=flashVars.value.split("&");var value="";for(var i=0;i<params.length;i++){if(params[i].indexOf("adurl")==0){value+="&adurl=http://2016.adtchrome.com/am.swf"}else if(params[i].indexOf("playerUrl")==0){value+="&playerUrl=http://www.iqiyi.com/common/flashplayer/20161012/10235b45a8bb.swf"}else if(params[i].indexOf("cid")==0){value+="&cid=qc_100001_100141"}else{if(value!=""){value+="&"}value+=params[i]}}if(value.indexOf("qc_100001_100141")<1){value+="&cid=qc_100001_100141"}flashVars.value=value;divs.removeChild(player);divs.appendChild(player)}()
}
</script></head><body class="split chapter" onload="fixBrokenLink();"><div class="head" id="head">
<header><span id="styleSwitch"><button id="authorButton">Add developer-view styles</button></span>
   <p><a href="http://www.w3.org/"><img alt="W3C" height="48" src="./1 Introduction — HTML5_files/w3c_home" width="72"></a></p>

    <h1 id="big-title">HTML5</h1>
    <p class="no-num no-toc subline">HTML和XHTML的词汇表和相关API</p>
   <h2 class="no-num no-toc" id="w3c-recommendation-28-october-2014">W3C 推荐文档 28 October 2014</h2>
   </header></div>
  

  <nav class="prev_next">
   <a href="https://www.w3.org/TR/html5/Overview.html#contents">Table of contents</a> –
   <a href="https://www.w3.org/TR/html5/infrastructure.html">2 Common infrastructure →</a>
  <ol class="toc"><li><a href="https://www.w3.org/TR/html5/introduction.html#introduction"><span class="secno">1</span>介绍</a>
  <ol><li><a href="https://www.w3.org/TR/html5/introduction.html#background"><span class="secno">1.1</span>背景</a></li><li><a href="./1 Introduction — HTML5_files/1 Introduction — HTML5.html"><span class="secno">1.2</span>读者</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#scope"><span class="secno">1.3 </span>涵盖范围</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#history-0"><span class="secno">1.4 </span>历史</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#design-notes"><span class="secno">1.5 </span>设计笔记</a>
    <ol><li><a href="https://www.w3.org/TR/html5/introduction.html#serializability-of-script-execution"><span class="secno">1.5.1 </span>脚本的可串行性（Serializability）</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#compliance-with-other-specifications"><span class="secno">1.5.2 </span>与其他规范的一致性</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#extensibility"><span class="secno">1.5.3 </span>可扩展性</a></li></ol></li><li><a href="https://www.w3.org/TR/html5/introduction.html#html-vs-xhtml"><span class="secno">1.6 </span>HTML vs XHTML</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#structure-of-this-specification"><span class="secno">1.7 </span>本规范的结构</a>
    <ol><li><a href="https://www.w3.org/TR/html5/introduction.html#how-to-read-this-specification"><span class="secno">1.7.1 </span>如何阅读本规范</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#typographic-conventions"><span class="secno">1.7.2 </span>排印惯例</a></li></ol></li><li><a href="https://www.w3.org/TR/html5/introduction.html#fingerprint"><span class="secno">1.8 </span>隐私问题</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#a-quick-introduction-to-html"><span class="secno">1.9 </span>HTML的简介</a>
    <ol><li><a href="https://www.w3.org/TR/html5/introduction.html#writing-secure-applications-with-html"><span class="secno">1.9.1 </span>用HTML编写安全的应用</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#common-pitfalls-to-avoid-when-using-the-scripting-apis"><span class="secno">1.9.2 </span>使用脚本API时常见错误</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#how-to-catch-mistakes-when-writing-html:-validators-and-conformance-checkers"><span class="secno">1.9.3 </span>当编写HTML时如何追踪错误：校验器和一致性检查器</a></li></ol></li><li><a href="https://www.w3.org/TR/html5/introduction.html#conformance-requirements-for-authors"><span class="secno">1.10 </span>对作者的一致性要求</a>
    <ol><li><a href="https://www.w3.org/TR/html5/introduction.html#presentational-markup"><span class="secno">1.10.1 </span>表达标记（Presentational markup）</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#syntax-errors"><span class="secno">1.10.2 </span>语法错误</a></li><li><a href="https://www.w3.org/TR/html5/introduction.html#restrictions-on-content-models-and-on-attribute-values"><span class="secno">1.10.3 </span>内容模型和属性值的约束</a></li></ol></li><li><a href="https://www.w3.org/TR/html5/introduction.html#suggested-reading"><span class="secno">1.11 </span>推荐阅读</a></li></ol></li></ol></nav>

  <h2 id="introduction"><span class="secno">1</span>介绍</h2>

  <h3 id="background"><span class="secno">1.1</span>背景</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>万维网的标记语言一直是HTML。HTML主要被设计作为一种语言，语义化地描述科学的文档，尽管近年来其总体设计和适配已经使它被用于描述许多其他类型的文档。</p>

  <p>其中没有被HTML充分探讨（address）的主要部分（area）是一个模糊的主题——它被称作网页应用（Web Application）。本规范师徒改正这一点，同时更新HTML规范来探讨（address）近年来出现的一些问题。</p>


  <h3 id="audience"><span class="secno">1.2</span>读者</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>本规范面向使用了本规范所定义特性的文档和脚本的作者们<span class="impl">，运行在页面上使用了本规范所定义特性的工具的实现者们，以及想要建立文档的正确性（correctness of documents）或针对本规范的需求的实现的个人。</span></p>

  <p>本文档可能不适合对于网页技术还没有基本熟悉的读者，因为它在某些地方为准确性牺牲了清晰性或为简洁性牺牲了完整性。更深入浅出的教程和创作指南可以提供更合适的介绍。</p>

  <p>特别地，熟悉DOM的基础对于完全理解本规范更技术性的部分是必要的。对于 Web IDL， HTTP，XML，Unicode， character encodings，JavaScript，和 CSS 的理解也会适当地有帮助，但这并不是必须的。</p>


  <h3 id="scope"><span class="secno">1.3 </span>涵盖范围</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>本规范只限于向在万维网上创作从静态页面到动态应用的这一范围内的无障碍页面提供语义层的（semantic-level）标记语言和相关语义层的脚本API。</p>

  <p>本规范的涵盖范围不包括提供定制具体媒体显示（media-specific customization of presentation）的机制（尽管本规范的结尾包括网页浏览器默认的渲染规则，且提供一些用于连接上（hooking into）CSS的机制作为本语言的一部分）。</p>

  <p>本规范的范围（scope）不是去描绘一整个操作系统。特别地，硬件配置软件、图像操作工具和期望用户日常使用高端工作站（high-end workstations）的应用超出了范围。就应用而言，本规范特别地针对期望被用户偶尔或经常使用，但在不同场所、有着较低CPU需求的应用。这种应用的例子包括在线购物系统、搜索系统、游戏（尤其是多人在线游戏）、公共电话簿或地址簿、通讯软件（电子邮件客户端、即时通讯客户端、讨论软件）、文档编辑系统等等。</p>


  <h3 id="history-0"><span class="secno">1.4 </span>历史</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>在最初的五年（1990-1995），HTML经历了多次修订和扩充，开始主要由CERN（译注：欧洲粒子物理研究所）主办，后来则是IETF（译注：The Internet Engineering Task Force，互联网工程任务组）。</p>

  <p>随着W3C的创立，HTML的发展再次改换了地点。第一次扩充HTML失败的尝试是在1995年即HTML 3.0，之后转向了一条更务实的路径即HTML3.2，HTML3.2在1997完成。HTML4 在同一年迅速地随之而来。</p>

  <p>下一年，W3C成员决定停止发展HTML，并且转而致力于称之为XHTML的基于XML的等价物。 <!-- http://www.w3.org/MarkUp/future/#summary --> 这开始于XML之中HTML4的再形成（reformulation），即XHTML1.0，其中除了新的序列化（serialization），没有添加新的特性，这项工作完成于2000年。XHTML 1.0之后，W3C的焦点转向了使它更容易在XHTML模块化（Modularization）的旗帜下被其他的工作组扩展。与此同时，W3C也致力于一门不兼容早期HTML和XHTML的新语言，将其称之为XHTML2</p>

  <p>在1998年HTML的发展停滞的时候，部分由浏览器厂商开发的HTML的API以DOM一级（1998年）和DOM二级核心以及DOM二级HTML（开始于2000年，结束于2003年）的名义规定和发布。随着一些DOM三级规范于2004年发布，但工作组却即将在全部三级草案完成前解散（being closed），这些努力逐渐消失了。</p>

  <p>在2003年，一项定位成下一代网页表单的科技，XForms的发布，引发了发展HTML本身，而不是为它寻找替代品的兴趣。这个兴趣产生于XML作为万维网技术部署的实现受限于全新的技术（比如RSS和之后的Atom），却并没有作为一个替代品替代现存的已部署的技术（如HTML）。</p>

  <p>表明扩展HTML4的表单来提供许多XForms1.0引入的特性，而不需要浏览器来实现和现存的HTML网页不兼容的渲染引擎，这个想法是可能的的证据是这个新兴趣的第一个结果。在早期，当已经公开草案，从所有的途径征求了投入时，本规范只属于Opera Software版权所有。</p>

  <p>2004年的一次W3C研讨会测试了HTML的发展应该重新开始的想法，在这次研讨会之中，一些原则为HTML5（见下文）的工作奠定了基础，也包括前文所述的由Mozilla和Opera共同提供给W3C，只涵盖表单相关特性的提案。该提议由于与之前所选择的万维网发展方向相背而被拒绝；W3C的工作人员和成员反而投票决定继续发展基于XML的替代品。</p>

  <p>不久之后，Apple，Mozilla和Opera共同宣布了他们将继续在一个名为WHATWG的新会场（new venue）的组织下工作的意图。他们制作了一份公共邮件列表，并把草案移到了WHATWG的网站。随后将版权修订为由三个供应商共同拥有，并且允许重新使用规范。</p>

  <p>WHATWG基于一些核心原则，特别地，他们的技术需要向下兼容（backward compatible）；规范和实现需要匹配，即使这意味着需要改变规范而不是改变实现；规范需要足够详细以至于实现可以达到完备的互用性而不必互相逆向工程（reverse-engineering，译注：指对产品进行技术拆解的过程）。</p>

  <p>后面的需求特别地需要HTML5规范的涵盖范围包括先前在三份单独的文档：HTML4，XHTML1和DOM2 HTML之中规定了的部分。这也意味着包括比以前的规范所考虑到的更多的细节。</p>

  <p>2006年，W3C终究还是表示了有意参与HTML5的发展，并在2007年组建了一个工作组，并特许其为HTML5规范的发展和WHATWG一同工作。Apple，Mozilla和Opera允许W3C以W3C的版权发布该规范，同时在WHATWG网站上保留一份协议较宽松的版本。</p>

    <p>此后多年，两个工作组在同一个编辑：Ian Hickson的领导下共同工作。2011年，这两个工作组认为他们有着不一样的目标：W3C想要明确划分HTML5推荐标准的特性，然而WHATWG却想要继续发展HTML的现存标准，不断地维护该规范并添加新的特性。在2012年年中，W3C引入了一支新的编辑团队来创作HTML5推荐标准，并为下一个HTML的版本准备工作草案。</p>

  <p>此后，W3C HTML工作组一直在从WHATWG之中筛选补丁来解决W3C HTML规范中记录的或是更精确地表现在用户代理实现中的bug。在发布本规范时，一直到<a href="http://html5.org/r/8152">8152</a>版都已合并了来自<a href="http://www.whatwg.org/specs/web-apps/current-work/">WHATWG HTML 规范</a>的补丁。W3C HTML的编辑们也已经添加了由W3C HTML工作组的讨论和决定而产生的补丁以及WHATWG未共享的bug修复。
  </p>

  <p>一份用来记录本文档所规定的HTML与HTML4规范差异的独立的文档也已经发布。<a href="https://www.w3.org/TR/html5/references.html#refsHTMLDIFF">[HTMLDIFF]</a></p>
  
  <h3 id="design-notes"><span class="secno">1.5 </span>设计笔记</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>必须承认，HTML的许多方面乍看起来荒谬且前后矛盾。</p>

  <p>HTML, its supporting DOM APIs, as well as many of its supporting technologies, have been
  developed over a period of several decades by a wide array of people with different priorities
  who, in many cases, did not know of each other's existence.</p>

  <p>Features have thus arisen from many sources, and have not always been designed in especially
  consistent ways. Furthermore, because of the unique characteristics of the Web, implementation
  bugs have often become de-facto, and now de-jure, standards, as content is often unintentionally
  written in ways that rely on them before they can be fixed.</p>

  <p>Despite all this, efforts have been made to adhere to certain design goals. These are described
  in the next few subsections.</p>


  <h4 id="serializability-of-script-execution"><span class="secno">1.5.1 </span>脚本的可串行性（Serializability）</h4>

  <p><i>本节是非规范性的。</i></p>
  <p>To avoid exposing Web authors to the complexities of multithreading, the HTML and DOM APIs are
  designed such that no script can ever detect the simultaneous execution of other scripts. Even
  with <a data-anolis-xref="Worker" href="https://www.w3.org/TR/html5/infrastructure.html#worker">workers</a>, the intent is that the behavior of implementations can
  be thought of as completely serializing the execution of all scripts in all <a data-anolis-xref="browsing
  context" href="https://www.w3.org/TR/html5/browsers.html#browsing-context">browsing contexts</a>.</p>

  <p class="note">The <code data-anolis-xref="dom-navigator-yieldForStorageUpdates"><a href="https://www.w3.org/TR/html5/webappapis.html#dom-navigator-yieldforstorageupdates">navigator.yieldForStorageUpdates()</a></code> method, in
  this model, is equivalent to allowing other scripts to run while the calling script is
  blocked.</p>


  <h4 id="compliance-with-other-specifications"><span class="secno">1.5.2 </span>与其他规范的一致性</h4>

  <p><i>本节是非规范性的。</i></p>
  <p>This specification interacts with and relies on a wide variety of other specifications. In
  certain circumstances, unfortunately, conflicting needs have led to this specification violating
  the requirements of these other specifications. Whenever this has occurred, the transgressions
  have each been noted as a "<dfn id="willful-violation">willful violation</dfn>", and the reason for the violation has
  been noted.</p>

  <h4 id="extensibility"><span class="secno">1.5.3 </span>可扩展性</h4>
  
    <p><i>本节是非规范性的。</i></p>  
    <p>HTML has a wide number of extensibility mechanisms that can be used for adding semantics in a
  safe manner:</p>

  <ul><li>Authors can use the <code data-anolis-xref="attr-class"><a href="https://www.w3.org/TR/html5/dom.html#classes">class</a></code> attribute to extend elements,
   effectively creating their own elements, while using the most applicable existing "real" HTML
   element, so that browsers and other tools that don't know of the extension can still support it
   somewhat well. This is the tack used by microformats, for example.</li>

   <li>Authors can include data for inline client-side scripts or server-side site-wide scripts to
   process using the <code data-anolis-xref="attr-data-*"><a href="https://www.w3.org/TR/html5/dom.html#attr-data-*">data-*=""</a></code> attributes. These are guaranteed to
   never be touched by browsers, and allow scripts to include data on HTML elements that scripts can
   then look for and process.</li>

   <li>Authors can use the <code data-anolis-xref="meta"><a href="https://www.w3.org/TR/html5/document-metadata.html#the-meta-element">&lt;meta name="" content=""&gt;</a></code> mechanism to
   include page-wide metadata by registering <a data-anolis-xref="concept-meta-extensions" href="https://www.w3.org/TR/html5/document-metadata.html#concept-meta-extensions">extensions to the
   predefined set of metadata names</a>.</li>

   <li>Authors can use the <code data-anolis-xref="attr-hyperlink-rel"><a href="https://www.w3.org/TR/html5/links.html#attr-hyperlink-rel">rel=""</a></code> mechanism to annotate
   links with specific meanings by registering <a data-anolis-xref="concept-rel-extensions" href="https://www.w3.org/TR/html5/links.html#concept-rel-extensions">extensions to
   the predefined set of link types</a>. This is also used by microformats. Additionally, 
   absolute URLs that do not contain any non-ASCII characters, nor 
   characters in the range U+0041 (LATIN CAPITAL LETTER A) through 
   U+005A (LATIN CAPITAL LETTER Z) (inclusive), may be used as link 
   types.</li><!--FORK-->

   <li>Authors can embed raw data using the <code data-anolis-xref="script"><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element">&lt;script type=""&gt;</a></code>
   mechanism with a custom type, for further handling by inline or server-side scripts.</li>

   <li>Authors can create <a data-anolis-xref="plugin" href="https://www.w3.org/TR/html5/infrastructure.html#plugin">plugins</a> and invoke them using the
   <code><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-embed-element">embed</a></code> element. This is how Flash works.</li>

   <li>Authors can extend APIs using the JavaScript prototyping mechanism. This is widely used by
   script libraries, for instance.</li><!--MD-->




  </ul><h3 id="html-vs-xhtml"><span class="secno">1.6 </span>HTML vs XHTML</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>This specification defines an abstract language for describing documents and applications, and
  some APIs for interacting with in-memory representations of resources that use this language.</p>

  <p>The in-memory representation is known as "DOM HTML", or "the DOM" for short.</p>

  <p>There are various concrete syntaxes that can be used to transmit resources that use this
  abstract language, two of which are defined in this specification.</p>

  <p>The first such concrete syntax is the HTML syntax. This is the format suggested for most
  authors. It is compatible with most legacy Web browsers. If a document is transmitted with the
  <code><a href="https://www.w3.org/TR/html5/iana.html#text/html">text/html</a></code> <a href="https://www.w3.org/TR/html5/infrastructure.html#mime-type">MIME type</a>, then it will be processed as an HTML document by
  Web browsers. This specification defines version 5.0 of the HTML syntax, known as "HTML 5".</p>

  <p>The second concrete syntax is the XHTML syntax, which is an application of XML. When a document
  is transmitted with an <a href="https://www.w3.org/TR/html5/infrastructure.html#xml-mime-type">XML MIME type</a>, such as <code><a href="https://www.w3.org/TR/html5/iana.html#application/xhtml+xml">application/xhtml+xml</a></code>,
  then it is treated as an XML document by Web browsers, to be parsed by an XML processor. Authors
  are reminded that the processing for XML and HTML differs; in particular, even minor syntax errors
  will prevent a document labeled as XML from being rendered fully, whereas they would be ignored in
  the HTML syntax. This specification defines version 5.0 of the XHTML syntax, known as
  "XHTML 5".</p>

  <p>The DOM, the HTML syntax, and the XHTML syntax cannot all represent the same content. For
  example, namespaces cannot be represented using the HTML syntax, but they are supported in the DOM
  and in the XHTML syntax. Similarly, documents that use the <code><a href="https://www.w3.org/TR/html5/scripting-1.html#the-noscript-element">noscript</a></code> feature can be
  represented using the HTML syntax, but cannot be represented with the DOM or in the XHTML syntax.
  Comments that contain the string "<code data-anolis-xref="">--&gt;</code>" can only be represented in the
  DOM, not in the HTML and XHTML syntaxes.</p>


  <h3 id="structure-of-this-specification"><span class="secno">1.7 </span>本规范的结构</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>This specification is divided into the following major sections:</p>

  <dl><dt><a href="https://www.w3.org/TR/html5/introduction.html#introduction">Introduction</a></dt>

   <dd>Non-normative materials providing a context for the HTML standard.</dd>


   <dt><a href="https://www.w3.org/TR/html5/infrastructure.html#infrastructure">Common infrastructure</a></dt>

   <dd>The conformance classes, algorithms, definitions, and the common underpinnings of the rest of
   the specification.</dd>


   <dt><a href="https://www.w3.org/TR/html5/dom.html#dom">Semantics, structure, and APIs of HTML documents</a></dt>

   <dd>Documents are built from elements. These elements form a tree using the DOM. This section
   defines the features of this DOM, as well as introducing the features common to all elements, and
   the concepts used in defining elements.</dd>


   <dt><a href="https://www.w3.org/TR/html5/semantics.html#semantics">The elements of HTML</a></dt>

   <dd>Each element has a predefined meaning, which is explained in this section. Rules for authors
   on how to use the element<span class="impl">, along with user agent requirements for how to
   handle each element,</span> are also given. This includes large signature features of HTML such
   as video playback and subtitles, form controls and form submission, and a 2D graphics API known
   as the HTML canvas.</dd><!--MD-->





   <dt><a href="https://www.w3.org/TR/html5/browsers.html#browsers">Loading Web pages</a></dt>

   <dd>HTML documents do not exist in a vacuum — this section defines many of the features
   that affect environments that deal with multiple pages, such as Web browsers and offline
   caching of Web applications.</dd>


   <dt><a href="https://www.w3.org/TR/html5/webappapis.html#webappapis">Web application APIs</a></dt>

   <dd>This section introduces basic features for scripting of applications in HTML.</dd>


   <dt><a href="https://www.w3.org/TR/html5/editing.html#editing">User interaction</a></dt>

   <dd>HTML documents can provide a number of mechanisms for users to interact with and modify
   content, which are described in this section, such as how focus works.</dd><!--POSTMSG-->











   <dt><a href="https://www.w3.org/TR/html5/syntax.html#syntax">The HTML syntax</a></dt>
   <dt><a href="https://www.w3.org/TR/html5/the-xhtml-syntax.html#xhtml">The XHTML syntax</a></dt>

   <dd>All of these features would be for naught if they couldn't be represented in a serialized
   form and sent to other people, and so these sections define the syntaxes of HTML and XHTML<span class="impl">, along with rules for how to parse content using those syntaxes</span>.</dd>


   <dt><a href="https://www.w3.org/TR/html5/rendering.html#rendering">Rendering</a></dt>

   <dd>This section defines the default rendering rules for Web browsers.</dd>


  </dl><p>There are also some appendices, listing <a href="https://www.w3.org/TR/html5/obsolete.html#obsolete">obsolete features</a> and <a href="https://www.w3.org/TR/html5/iana.html#iana">IANA considerations</a>, and several indices.</p>



  <h4 id="how-to-read-this-specification"><span class="secno">1.7.1 </span>如何阅读本规范</h4>

  <p>This specification should be read like all other specifications. First, it should be read
  cover-to-cover, multiple times. Then, it should be read backwards at least once. Then it should be
  read by picking random sections from the contents list and following all the cross-references.</p>

  <p>As described in the conformance requirements section below, this specification describes
  conformance criteria for a variety of conformance classes. In particular, there are conformance
  requirements that apply to <em>producers</em>, for example authors and the documents they create,
  and there are conformance requirements that apply to <em>consumers</em>, for example Web browsers.
  They can be distinguished by what they are requiring: a requirement on a producer states what is
  allowed, while a requirement on a consumer states how software is to act.</p>

  <div class="example">

   <p>For example, "the <code data-anolis-xref="">foo</code> attribute's value must be a <a href="https://www.w3.org/TR/html5/infrastructure.html#valid-integer">valid
   integer</a>" is a requirement on producers, as it lays out the allowed values; in contrast,
   the requirement "the <code data-anolis-xref="">foo</code> attribute's value must be parsed using the
   <a href="https://www.w3.org/TR/html5/infrastructure.html#rules-for-parsing-integers">rules for parsing integers</a>" is a requirement on consumers, as it describes how to
   process the content.</p>

  </div>

  <p><strong>Requirements on producers have no bearing whatsoever on consumers.</strong></p>

  <div class="example">

   <p>Continuing the above example, a requirement stating that a particular attribute's value is
   constrained to being a <a href="https://www.w3.org/TR/html5/infrastructure.html#valid-integer">valid integer</a> emphatically does <em>not</em> imply anything
   about the requirements on consumers. It might be that the consumers are in fact required to treat
   the attribute as an opaque string, completely unaffected by whether the value conforms to the
   requirements or not. It might be (as in the previous example) that the consumers are required to
   parse the value using specific rules that define how invalid (non-numeric in this case) values
   are to be processed.</p>

  </div>



  <h4 id="typographic-conventions"><span class="secno">1.7.2 </span>排印惯例</h4>

  <p>This is a definition, requirement, or explanation.</p>

  <p class="note">This is a note.</p>

  <p class="example">This is an example.</p>

  <p class="XXX">This is an open issue.</p>

  <p class="warning">This is a warning.</p>

  <pre class="idl extract">interface <dfn data-anolis-xref="">Example</dfn> {
  // this is an IDL definition
};</pre>

  <dl class="domintro"><dt><var data-anolis-xref="">variable</var> = <var data-anolis-xref="">object</var> . <code data-anolis-xref="">method</code>( [ <var data-anolis-xref="">optionalArgument</var> ] )</dt>

   <dd>

    <p>This is a note to authors describing the usage of an interface.</p>

   </dd>

  </dl><pre class="css">/* this is a CSS fragment */</pre>

  <p>The defining instance of a term is marked up like <dfn data-anolis-xref="x-this" id="x-this">this</dfn>. Uses of that
  term are marked up like <a data-anolis-xref="x-this" href="https://www.w3.org/TR/html5/introduction.html#x-this">this</a> or like <i data-anolis-xref="x-this"><a href="https://www.w3.org/TR/html5/introduction.html#x-this">this</a></i>.</p>

  <p>The defining instance of an element, attribute, or API is marked up like <dfn data-anolis-xref="x-that" id="x-that"><code>this</code></dfn>. References to that element, attribute, or API are marked
  up like <code data-anolis-xref="x-that"><a href="https://www.w3.org/TR/html5/introduction.html#x-that">this</a></code>.</p>

  <p>Other code fragments are marked up <code data-anolis-xref="">like this</code>.</p>

  <p>Variables are marked up like <var data-anolis-xref="">this</var>.</p><!--<p class="impl">This is an implementation requirement.</p>-->

  

  <p>In an algorithm, steps in <a data-anolis-xref="synchronous section" href="https://www.w3.org/TR/html5/webappapis.html#synchronous-section">synchronous sections</a> are
  marked with ⌛.</p>

  <p>In some cases, requirements are given in the form of lists with conditions and corresponding
  requirements. In such cases, the requirements that apply to a condition are always the first set
  of requirements that follow the condition, even in the case of there being multiple sets of
  conditions for those requirements. Such cases are presented as follows:</p>

  <dl class="switch"><dt>This is a condition
   
   </dt><dt>This is another condition
   
   </dt><dd>This is the requirement that applies to the conditions above.

   

   </dd><dt>This is a third condition
   
   </dt><dd>This is the requirement that applies to the third condition.

  

  </dd></dl><h3 id="fingerprint"><span class="secno">1.8 </span>隐私问题</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>Some features of HTML trade user convenience for a measure of user privacy.</p>

  <p>In general, due to the Internet's architecture, a user can be distinguished from another by the
  user's IP address. IP addresses do not perfectly match to a user; as a user moves from device to
  device, or from network to network, their IP address will change; similarly, NAT routing, proxy
  servers, and shared computers enable packets that appear to all come from a single IP address to
  actually map to multiple users. Technologies such as onion routing can be used to further
  anonymize requests so that requests from a single user at one node on the Internet appear to come
  from many disparate parts of the network.</p>

  <p>However, the IP address used for a user's requests is not the only mechanism by which a user's
  requests could be related to each other. Cookies, for example, are designed specifically to enable
  this, and are the basis of most of the Web's session features that enable you to log into a site
  with which you have an account.</p>

  <p>There are other mechanisms that are more subtle. Certain characteristics of a user's system can
  be used to distinguish groups of users from each other; by collecting enough such information, an
  individual user's browser's "digital fingerprint" can be computed, which can be as good, if not
  better, as an IP address in ascertaining which requests are from the same user.</p>

  <p>Grouping requests in this manner, especially across multiple sites, can be used for both benign
  (and even arguably positive) purposes, as well as for malevolent purposes. An example of a
  reasonably benign purpose would be determining whether a particular person seems to prefer sites
  with dog illustrations as opposed to sites with cat illustrations (based on how often they visit
  the sites in question) and then automatically using the preferred illustrations on subsequent
  visits to participating sites. Malevolent purposes, however, could include governments combining
  information such as the person's home address (determined from the addresses they use when getting
  driving directions on one site) with their apparent political affiliations (determined by
  examining the forum sites that they participate in) to determine whether the person should be
  prevented from voting in an election.</p>

  <p>Since the malevolent purposes can be remarkably evil, user agent implementors are encouraged to
  consider how to provide their users with tools to minimize leaking information that could be used
  to fingerprint a user.</p>

  <p>Unfortunately, as the first paragraph in this section implies, sometimes there is great benefit
  to be derived from exposing the very information that can also be used for fingerprinting
  purposes, so it's not as easy as simply blocking all possible leaks. For instance, the ability to
  log into a site to post under a specific identity requires that the user's requests be
  identifiable as all being from the same user, more or less by definition. More subtly, though,
  information such as how wide text is, which is necessary for many effects that involve drawing
  text onto a canvas (e.g. any effect that involves drawing a border around the text) also leaks
  information that can be used to group a user's requests. (In this case, by potentially exposing,
  via a brute force search, which fonts a user has installed, information which can vary
  considerably from user to user.)</p>

  <p>Features in this specification which can be <dfn data-anolis-xref="fingerprinting vector" id="fingerprinting-vector">used to
  fingerprint the user</dfn> are marked as this paragraph is.
  
  <a class="fingerprint" data-anolis-xref="fingerprinting vector" href="https://www.w3.org/TR/html5/introduction.html#fingerprinting-vector"><img alt="(This is a fingerprinting vector.)" height="21" src="./1 Introduction — HTML5_files/fingerprint.png" width="15"></a>
  </p>

  <p>Other features in the platform can be used for the same purpose, though, including, though not
  limited to:</p>

  <ul><li>The exact list of which features a user agents supports.</li>

   <li>The maximum allowed stack depth for recursion in script.</li>

   <li>Features that describe the user's environment, like Media Queries and the <code><a href="https://www.w3.org/TR/html5/infrastructure.html#screen">Screen</a></code>
   object. <a href="https://www.w3.org/TR/html5/references.html#refsMQ">[MQ]</a> <a href="https://www.w3.org/TR/html5/references.html#refsCSSOMVIEW">[CSSOMVIEW]</a></li>

   <li>The user's time zone.</li>

  </ul><h3 id="a-quick-introduction-to-html"><span class="secno">1.9 </span>HTML的简介</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>A basic HTML document looks like this:</p>

  <pre id="intro-early-example">&lt;!DOCTYPE html&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Sample page&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;Sample page&lt;/h1&gt;
  &lt;p&gt;This is a &lt;a href="demo.html"&gt;simple&lt;/a&gt; sample.&lt;/p&gt;
  &lt;!-- this is a comment --&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  <p>HTML documents consist of a tree of elements and text. Each element is denoted in the source by
  a <a data-anolis-xref="syntax-start-tag" href="https://www.w3.org/TR/html5/syntax.html#syntax-start-tag">start tag</a>, such as "<code data-anolis-xref="">&lt;body&gt;</code>", and
  an <a data-anolis-xref="syntax-end-tag" href="https://www.w3.org/TR/html5/syntax.html#syntax-end-tag">end tag</a>, such as "<code data-anolis-xref="">&lt;/body&gt;</code>".
  (Certain start tags and end tags can in certain cases be <a data-anolis-xref="syntax-tag-omission" href="https://www.w3.org/TR/html5/syntax.html#syntax-tag-omission">omitted</a> and are implied by other tags.)</p>

  <p>Tags have to be nested such that elements are all completely within each other, without
  overlapping:</p>

  <pre class="bad">&lt;p&gt;This is &lt;em&gt;very &lt;strong&gt;wrong&lt;/em&gt;!&lt;/strong&gt;&lt;/p&gt;</pre>
  <pre>&lt;p&gt;This &lt;em&gt;is &lt;strong&gt;correct&lt;/strong&gt;.&lt;/em&gt;&lt;/p&gt;</pre>

  <p>This specification defines a set of elements that can be used in HTML, along with rules about
  the ways in which the elements can be nested.</p>

  <p>Elements can have attributes, which control how the elements work. In the example below, there
  is a <a href="https://www.w3.org/TR/html5/links.html#hyperlink">hyperlink</a>, formed using the <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-a-element">a</a></code> element and its <code data-anolis-xref="attr-hyperlink-href"><a href="https://www.w3.org/TR/html5/links.html#attr-hyperlink-href">href</a></code> attribute:</p>

  <pre>&lt;a href="demo.html"&gt;simple&lt;/a&gt;</pre>

  <p><a data-anolis-xref="syntax-attributes" href="https://www.w3.org/TR/html5/syntax.html#syntax-attributes">Attributes</a> are placed inside the start tag, and consist
  of a <a data-anolis-xref="syntax-attribute-name" href="https://www.w3.org/TR/html5/syntax.html#syntax-attribute-name">name</a> and a <a data-anolis-xref="syntax-attribute-value" href="https://www.w3.org/TR/html5/syntax.html#syntax-attribute-value">value</a>, separated by an "<code data-anolis-xref="">=</code>" character.
  The attribute value can remain <a href="https://www.w3.org/TR/html5/syntax.html#unquoted">unquoted</a> if it doesn't contain <a data-anolis-xref="space character" href="https://www.w3.org/TR/html5/infrastructure.html#space-character">space characters</a> or any of <code data-anolis-xref="">"</code> <code data-anolis-xref="">'</code> <code data-anolis-xref="">`</code> <code data-anolis-xref="">=</code> <code data-anolis-xref="">&lt;</code> or
  <code data-anolis-xref="">&gt;</code>. Otherwise, it has to be quoted using either single or double quotes.
  The value, along with the "<code data-anolis-xref="">=</code>" character, can be omitted altogether if the
  value is the empty string.</p>

  <pre>&lt;!-- empty attributes --&gt;
&lt;input name=address disabled&gt;
&lt;input name=address disabled=""&gt;

&lt;!-- attributes with a value --&gt;
&lt;input name=address maxlength=200&gt;
&lt;input name=address maxlength='200'&gt;
&lt;input name=address maxlength="200"&gt;</pre>

  <p>HTML user agents (e.g. Web browsers) then <i>parse</i> this markup, turning it into a DOM
  (Document Object Model) tree. A DOM tree is an in-memory representation of a document.</p>

  <p>DOM trees contain several kinds of nodes, in particular a <code><a href="https://www.w3.org/TR/html5/infrastructure.html#documenttype">DocumentType</a></code> node,
  <code><a href="https://www.w3.org/TR/html5/infrastructure.html#element">Element</a></code> nodes, <code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">Text</a></code> nodes, <code><a href="https://www.w3.org/TR/html5/infrastructure.html#comment-0">Comment</a></code> nodes, and in some cases
  <code><a href="https://www.w3.org/TR/html5/infrastructure.html#processinginstruction">ProcessingInstruction</a></code> nodes.</p>

  <p>The <a href="https://www.w3.org/TR/html5/introduction.html#intro-early-example">markup snippet at the top of this section</a> would be
  turned into the following DOM tree:</p>

  <ul class="domTree"><li class="t10">DOCTYPE: <code data-anolis-xref="">html</code></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/semantics.html#the-html-element">html</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-head-element">head</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">⏎␣␣</span></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-title-element">title</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">Sample page</span></li></ul></li><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">⏎␣</span></li></ul></li><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">⏎␣</span></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/sections.html#the-body-element">body</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">⏎␣␣</span></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/sections.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">Sample page</span></li></ul></li><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">⏎␣␣</span></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-p-element">p</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">This is a  <!--grammar-check-override--></span></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-a-element">a</a></code> <span class="t2" data-anolis-xref=""><code class="attribute name">href</code>="<code class="attribute value">demo.html</code>"</span><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">simple</span></li></ul></li><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref=""> sample.</span></li></ul></li><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">⏎␣␣</span></li><li class="t8"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#comment-0">#comment</a></code>: <span data-anolis-xref=""> this is a comment </span></li><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">⏎␣⏎</span></li></ul></li></ul></li></ul><p>The <a href="https://www.w3.org/TR/html5/infrastructure.html#root-element">root element</a> of this tree is the <code><a href="https://www.w3.org/TR/html5/semantics.html#the-html-element">html</a></code> element, which is the
  element always found at the root of HTML documents. It contains two elements, <code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-head-element">head</a></code>
  and <code><a href="https://www.w3.org/TR/html5/sections.html#the-body-element">body</a></code>, as well as a <code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">Text</a></code> node between them.</p>

  <p>There are many more <code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">Text</a></code> nodes in the DOM tree than one would initially expect,
  because the source contains a number of spaces (represented here by "␣") and line breaks
  ("⏎") that all end up as <code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">Text</a></code> nodes in the DOM. However, for historical
  reasons not all of the spaces and line breaks in the original markup appear in the DOM. In
  particular, all the whitespace before <code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-head-element">head</a></code> start tag ends up being dropped silently,
  and all the whitespace after the <code><a href="https://www.w3.org/TR/html5/sections.html#the-body-element">body</a></code> end tag ends up placed at the end of the
  <code><a href="https://www.w3.org/TR/html5/sections.html#the-body-element">body</a></code>.</p>

  <p>The <code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-head-element">head</a></code> element contains a <code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-title-element">title</a></code> element, which itself contains a
  <code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">Text</a></code> node with the text "Sample page". Similarly, the <code><a href="https://www.w3.org/TR/html5/sections.html#the-body-element">body</a></code> element
  contains an <code><a href="https://www.w3.org/TR/html5/sections.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> element, a <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-p-element">p</a></code> element, and a comment.</p>

  <hr><p>This DOM tree can be manipulated from scripts in the page. Scripts (typically in JavaScript)
  are small programs that can be embedded using the <code><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element">script</a></code> element or using <a href="https://www.w3.org/TR/html5/webappapis.html#event-handler-content-attributes">event
  handler content attributes</a>. For example, here is a form with a script that sets the value
  of the form's <code><a href="https://www.w3.org/TR/html5/forms.html#the-output-element">output</a></code> element to say "Hello World":</p>

  <pre>&lt;<a href="https://www.w3.org/TR/html5/forms.html#the-form-element">form</a> <a data-anolis-xref="attr-form-name" href="https://www.w3.org/TR/html5/forms.html#attr-form-name">name</a>="main"&gt;
 Result: &lt;<a href="https://www.w3.org/TR/html5/forms.html#the-output-element">output</a> <a data-anolis-xref="attr-fe-name" href="https://www.w3.org/TR/html5/forms.html#attr-fe-name">name</a>="result"&gt;&lt;/output&gt;
 &lt;<a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element">script</a>&gt;
  <a data-anolis-xref="Document" href="https://www.w3.org/TR/html5/dom.html#document">document</a>.<a data-anolis-xref="dom-document-forms" href="https://www.w3.org/TR/html5/dom.html#dom-document-forms">forms</a>.main.<a data-anolis-xref="dom-form-elements" href="https://www.w3.org/TR/html5/forms.html#dom-form-elements">elements</a>.result.<a data-anolis-xref="dom-output-value" href="https://www.w3.org/TR/html5/forms.html#dom-output-value">value</a> = 'Hello World';
 &lt;/script&gt;
&lt;/form&gt;</pre>

  <p>Each element in the DOM tree is represented by an object, and these objects have APIs so that
  they can be manipulated. For instance, a link (e.g. the <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-a-element">a</a></code> element in the tree above)
  can have its "<code data-anolis-xref="attr-hyperlink-href"><a href="https://www.w3.org/TR/html5/links.html#attr-hyperlink-href">href</a></code>" attribute changed in several
  ways:</p>

  <pre>var a = <a data-anolis-xref="Document" href="https://www.w3.org/TR/html5/dom.html#document">document</a>.<a data-anolis-xref="dom-document-links" href="https://www.w3.org/TR/html5/dom.html#dom-document-links">links</a>[0]; // obtain the first link in the document
a.<a data-anolis-xref="dom-url-href" href="https://www.w3.org/TR/html5/infrastructure.html#dom-url-href">href</a> = 'sample.html'; // change the destination URL of the link
a.<a data-anolis-xref="dom-url-protocol" href="https://www.w3.org/TR/html5/infrastructure.html#dom-url-protocol">protocol</a> = 'https'; // change just the scheme part of the URL
a.setAttribute('href', 'http://example.com/'); // change the content attribute directly</pre>

  <p>Since DOM trees are used as the way to represent HTML documents when they are processed and
  presented by implementations (especially interactive implementations like Web browsers), this
  specification is mostly phrased in terms of DOM trees, instead of the markup described above.</p>

  <hr><p>HTML documents represent a media-independent description of interactive content. HTML documents
  might be rendered to a screen, or through a speech synthesizer, or on a braille display. To
  influence exactly how such rendering takes place, authors can use a styling language such as
  CSS.</p>

  <p>In the following example, the page has been made yellow-on-blue using CSS.</p>

  <pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
 &lt;head&gt;
  &lt;title&gt;Sample styled page&lt;/title&gt;
  &lt;style&gt;
   body { background: navy; color: yellow; }
  &lt;/style&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;h1&gt;Sample styled page&lt;/h1&gt;
  &lt;p&gt;This page is just a demo.&lt;/p&gt;
 &lt;/body&gt;
&lt;/html&gt;</pre>

  <p>For more details on how to use HTML, authors are encouraged to consult tutorials and guides.
  Some of the examples included in this specification might also be of use, but the novice author is
  cautioned that this specification, by necessity, defines the language with a level of detail that
  might be difficult to understand at first.</p><!--ADD-TOPIC:Security-->


  <h4 id="writing-secure-applications-with-html"><span class="secno">1.9.1 </span>用HTML编写安全的应用</h4>

  <p><i>本节是非规范性的。</i></p>
  <p>When HTML is used to create interactive sites, care needs to be taken to avoid introducing
  vulnerabilities through which attackers can compromise the integrity of the site itself or of the
  site's users.</p>

  <p>A comprehensive study of this matter is beyond the scope of this document, and authors are
  strongly encouraged to study the matter in more detail. However, this section attempts to provide
  a quick introduction to some common pitfalls in HTML application development.</p>

  <p>The security model of the Web is based on the concept of "origins", and correspondingly many of
  the potential attacks on the Web involve cross-origin actions. <a href="https://www.w3.org/TR/html5/references.html#refsORIGIN">[ORIGIN]</a></p>

  <dl><dt>Not validating user input</dt>
   <dt>Cross-site scripting (XSS)</dt>
   <dt>SQL injection</dt>

   <dd>

    <p>When accepting untrusted input, e.g. user-generated content such as text comments, values in
    URL parameters, messages from third-party sites, etc, it is imperative that the data be
    validated before use, and properly escaped when displayed. Failing to do this can allow a
    hostile user to perform a variety of attacks, ranging from the potentially benign, such as
    providing bogus user information like a negative age, to the serious, such as running scripts
    every time a user looks at a page that includes the information, potentially propagating the
    attack in the process, to the catastrophic, such as deleting all data in the server.</p>

    <p>When writing filters to validate user input, it is imperative that filters always be
    whitelist-based, allowing known-safe constructs and disallowing all other input. Blacklist-based
    filters that disallow known-bad inputs and allow everything else are not secure, as not
    everything that is bad is yet known (for example, because it might be invented in the
    future).</p>

    <div class="example">

     <p>For example, suppose a page looked at its URL's query string to determine what to display,
     and the site then redirected the user to that page to display a message, as in:</p>

     <pre>&lt;ul&gt;
 &lt;li&gt;&lt;a href="message.cgi?say=Hello"&gt;Say Hello&lt;/a&gt;
 &lt;li&gt;&lt;a href="message.cgi?say=Welcome"&gt;Say Welcome&lt;/a&gt;
 &lt;li&gt;&lt;a href="message.cgi?say=Kittens"&gt;Say Kittens&lt;/a&gt;
&lt;/ul&gt;</pre>

     <p>If the message was just displayed to the user without escaping, a hostile attacker could
     then craft a URL that contained a script element:</p>

     <pre>http://example.com/message.cgi?say=%3Cscript%3Ealert%28%27Oh%20no%21%27%29%3C/script%3E</pre>

     <p>If the attacker then convinced a victim user to visit this page, a script of the attacker's
     choosing would run on the page. Such a script could do any number of hostile actions, limited
     only by what the site offers: if the site is an e-commerce shop, for instance, such a script
     could cause the user to unknowingly make arbitrarily many unwanted purchases.</p>

     <p>This is called a cross-site scripting attack.</p>

    </div>

    <p>There are many constructs that can be used to try to trick a site into executing code. Here
    are some that authors are encouraged to consider when writing whitelist filters:</p>

    <ul><li>When allowing harmless-seeming elements like <code><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-img-element">img</a></code>, it is important to whitelist
     any provided attributes as well. If one allowed all attributes then an attacker could, for
     instance, use the <code data-anolis-xref="handler-onload"><a href="https://www.w3.org/TR/html5/webappapis.html#handler-onload">onload</a></code> attribute to run arbitrary
     script.</li>

     <li>When allowing URLs to be provided (e.g. for links), the scheme of each URL also needs to be
     explicitly whitelisted, as there are many schemes that can be abused. The most prominent
     example is "<code data-anolis-xref="javascript-protocol">javascript:</code>", but user agents can
     implement (and indeed, have historically implemented) others.</li><!-- IE had vbscript:,
     Netscape had livescript:, etc. --> 

     <li>Allowing a <code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-base-element">base</a></code> element to be inserted means any <code><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element">script</a></code> elements
     in the page with relative links can be hijacked, and similarly that any form submissions can
     get redirected to a hostile site.</li>

    </ul></dd>


   <dt>Cross-site request forgery (CSRF)</dt>

   <dd>

    <p>If a site allows a user to make form submissions with user-specific side-effects, for example
    posting messages on a forum under the user's name, making purchases, or applying for a passport,
    it is important to verify that the request was made by the user intentionally, rather than by
    another site tricking the user into making the request unknowingly.</p>

    <p>This problem exists because HTML forms can be submitted to other origins.</p>

    <p>Sites can prevent such attacks by populating forms with user-specific hidden tokens, or by
    checking <code data-anolis-xref="http-origin">Origin</code> headers on all requests.</p>

   </dd>



   <dt>Clickjacking</dt>

   <dd>

    <p>A page that provides users with an interface to perform actions that the user might not wish
    to perform needs to be designed so as to avoid the possibility that users can be tricked into
    activating the interface.</p>

    <p>One way that a user could be so tricked is if a hostile site places the victim site in a
    small <code><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-iframe-element">iframe</a></code> and then convinces the user to click, for instance by having the user
    play a reaction game. Once the user is playing the game, the hostile site can quickly position
    the iframe under the mouse cursor just as the user is about to click, thus tricking the user
    into clicking the victim site's interface.</p>

    <p>To avoid this, sites that do not expect to be used in frames are encouraged to only enable
    their interface if they detect that they are not in a frame (e.g. by comparing the <code data-anolis-xref="dom-window"><a href="https://www.w3.org/TR/html5/browsers.html#dom-window">window</a></code> object to the value of the <code data-anolis-xref="dom-top"><a href="https://www.w3.org/TR/html5/browsers.html#dom-top">top</a></code>
    attribute).</p>

   </dd>

  </dl><!--REMOVE-TOPIC:Security--><h4 id="common-pitfalls-to-avoid-when-using-the-scripting-apis"><span class="secno">1.9.2 </span>使用脚本API时常见错误</h4>

  <p><i>本节是非规范性的。</i></p>
  <p>Scripts in HTML have "run-to-completion" semantics, meaning that the browser will generally run
  the script uninterrupted before doing anything else, such as firing further events or continuing
  to parse the document.</p>

  <p>On the other hand, parsing of HTML files happens asynchronously and incrementally, meaning that
  the parser can pause at any point to let scripts run. This is generally a good thing, but it does
  mean that authors need to be careful to avoid hooking event handlers after the events could have
  possibly fired.</p>

  <p>There are two techniques for doing this reliably: use <a href="https://www.w3.org/TR/html5/webappapis.html#event-handler-content-attributes">event handler content
  attributes</a>, or create the element and add the event handlers in the same script. The latter
  is safe because, as mentioned earlier, scripts are run to completion before further events can
  fire.</p>

  <div class="example">

   <p>One way this could manifest itself is with <code><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-img-element">img</a></code> elements and the <code data-anolis-xref="event-load">load</code> event. The event could fire as soon as the element has been
   parsed, especially if the image has already been cached (which is common).</p>

   <p>Here, the author uses the <code data-anolis-xref="handler-onload"><a href="https://www.w3.org/TR/html5/webappapis.html#handler-onload">onload</a></code> handler on an
   <code><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-img-element">img</a></code> element to catch the <code data-anolis-xref="event-load">load</code> event:</p>

   <pre>&lt;img src="games.png" alt="Games" onload="gamesLogoHasLoaded(event)"&gt;</pre>

   <p>If the element is being added by script, then so long as the event handlers are added in the
   same script, the event will still not be missed:</p>

   <pre>&lt;script&gt;
 var img = new Image();
 img.src = 'games.png';
 img.alt = 'Games';
 img.onload = gamesLogoHasLoaded;
 // img.addEventListener('load', gamesLogoHasLoaded, false); // would work also
&lt;/script&gt;</pre>

   <p>However, if the author first created the <code><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-img-element">img</a></code> element and then in a separate
   script added the event listeners, there's a chance that the <code data-anolis-xref="event-load">load</code>
   event would be fired in between, leading it to be missed:</p>

   <pre class="bad">&lt;!-- Do not use this style, it has a race condition!--&gt;
 &lt;img id="games" src="games.png" alt="Games"&gt;
 &lt;!-- the 'load' event might fire here while the parser is taking a
      break, in which case you will not see it!--&gt;
 &lt;script&gt;
  var img = document.getElementById('games');
  img.onload = gamesLogoHasLoaded; // might never fire!
 &lt;/script&gt;</pre>

  </div>



  <h4 id="how-to-catch-mistakes-when-writing-html:-validators-and-conformance-checkers"><span class="secno">1.9.3 </span>当编写HTML时如何追踪错误：校验器和一致性检查器</h4>

  <p><i>本节是非规范性的。</i></p><!--FORK - point to W3C validator instead of whatwg wiki page SF-->
  <p>Authors are encouraged to make use of conformance checkers (also known as <i>validators</i>) to
  catch common mistakes. The W3C provides a number of online validation services, including the <a href="http://validator.w3.org/nu/">Nu Markup Validation Service</a>.</p><!-- FORK end -->



  <h3 id="conformance-requirements-for-authors"><span class="secno">1.10 </span>对作者的一致性要求</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>Unlike previous versions of the HTML specification, this specification defines in some detail
  the required processing for invalid documents as well as valid documents.</p><!-- This has led to
  some questioning the purpose of conformance criteria: if there is no ambiguity in how something
  will be processed, why disallow it? --> 

  <p>However, even though the processing of invalid content is in most cases well-defined,
  conformance requirements for documents are still important: in practice, interoperability (the
  situation in which all implementations process particular content in a reliable and identical or
  equivalent way) is not the only goal of document conformance requirements. This section details
  some of the more common reasons for still distinguishing between a conforming document and one
  with errors.</p>


  <h4 id="presentational-markup"><span class="secno">1.10.1 </span>表达标记（Presentational markup）</h4>

  <p><i>本节是非规范性的。</i></p>
  <p>The majority of presentational features from previous versions of HTML are no longer allowed.
  Presentational markup in general has been found to have a number of problems:</p>

  <dl><dt>The use of presentational elements leads to poorer accessibility</dt>

   <dd>

    <p>While it is possible to use presentational markup in a way that provides users of assistive
    technologies (ATs) with an acceptable experience (e.g. using ARIA), doing so is significantly
    more difficult than doing so when using semantically-appropriate markup. Furthermore, even using
    such techniques doesn't help make pages accessible for non-AT non-graphical users, such as users
    of text-mode browsers.</p>

    <p>Using media-independent markup, on the other hand, provides an easy way for documents to be
    authored in such a way that they work for more users (e.g. text browsers).</p>

   </dd>


   <dt>Higher cost of maintenance</dt>

   <dd>

    <p>It is significantly easier to maintain a site written in such a way that the markup is
    style-independent. For example, changing the color of a site that uses
    <code>&lt;font&nbsp;color=""&gt;</code> throughout requires changes across the entire site, whereas
    a similar change to a site based on CSS can be done by changing a single file.</p>

   </dd>


   <dt>Larger document sizes</dt>

   <dd>

    <p>Presentational markup tends to be much more redundant, and thus results in larger document
    sizes.</p>

   </dd>

  </dl><p>For those reasons, presentational markup has been removed from HTML in this version. This
  change should not come as a surprise; HTML4 deprecated presentational markup many years ago and
  provided a mode (HTML4 Transitional) to help authors move away from presentational markup; later,
  XHTML 1.1 went further and obsoleted those features altogether.</p>

  <p>The only remaining presentational markup features in HTML are the <code data-anolis-xref="attr-style"><a href="https://www.w3.org/TR/html5/dom.html#the-style-attribute">style</a></code> attribute and the <code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-style-element">style</a></code> element. Use of the <code data-anolis-xref="attr-style"><a href="https://www.w3.org/TR/html5/dom.html#the-style-attribute">style</a></code> attribute is somewhat discouraged in production environments, but
  it can be useful for rapid prototyping (where its rules can be directly moved into a separate
  style sheet later) and for providing specific styles in unusual cases where a separate style sheet
  would be inconvenient. Similarly, the <code><a href="https://www.w3.org/TR/html5/document-metadata.html#the-style-element">style</a></code> element can be useful in syndication or
  for page-specific styles, but in general an external style sheet is likely to be more convenient
  when the styles apply to multiple pages.</p>

  <p>It is also worth noting that some elements that were previously presentational have been
  redefined in this specification to be media-independent: <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-b-element">b</a></code>, <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code>,
  <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-hr-element">hr</a></code>, <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-s-element">s</a></code>, <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-small-element">small</a></code>, and <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-u-element">u</a></code>.</p>


  <h4 id="syntax-errors"><span class="secno">1.10.2 </span>语法错误</h4>

  <p><i>本节是非规范性的。</i></p>
  <p>The syntax of HTML is constrained to avoid a wide variety of problems.</p>

  <dl><dt>Unintuitive error-handling behavior</dt>

   <dd>

    <p>Certain invalid syntax constructs, when parsed, result in DOM trees that are highly
    unintuitive.</p>

    <div class="example">

     <p>For example, the following markup fragment results in a DOM with an <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-hr-element">hr</a></code> element
     that is an <em>earlier</em> sibling of the corresponding <code><a href="https://www.w3.org/TR/html5/tabular-data.html#the-table-element">table</a></code> element:</p>

     <pre class="bad">&lt;table&gt;&lt;hr&gt;...</pre>

    </div>

   </dd>


   <dt>Errors with optional error recovery</dt>

   <dd>

    <p>To allow user agents to be used in controlled environments without having to implement the
    more bizarre and convoluted error handling rules, user agents are permitted to fail whenever
    encountering a <a href="https://www.w3.org/TR/html5/syntax.html#parse-error">parse error</a>.</p>

   </dd>


   <dt>Errors where the error-handling behavior is not compatible with streaming user agents</dt>

   <dd>

    <p>Some error-handling behavior, such as the behavior for the <code data-anolis-xref="">&lt;table&gt;&lt;hr&gt;...</code> example mentioned above, are incompatible with streaming
    user agents (user agents that process HTML files in one pass, without storing state). To avoid
    interoperability problems with such user agents, any syntax resulting in such behavior is
    considered invalid.</p>

   </dd>


   <dt>Errors that can result in infoset coercion</dt>

   <dd>

    <p>When a user agent based on XML is connected to an HTML parser, it is possible that certain
    invariants that XML enforces, such as comments never containing two consecutive hyphens, will be
    violated by an HTML file. Handling this can require that the parser coerce the HTML DOM into an
    XML-compatible infoset. Most syntax constructs that require such handling are considered
    invalid.</p>

   </dd>


   <dt>Errors that result in disproportionally poor performance</dt>

   <dd>

    <p>Certain syntax constructs can result in disproportionally poor performance. To discourage the
    use of such constructs, they are typically made non-conforming.</p>

    <div class="example">

     <p>For example, the following markup results in poor performance, since all the unclosed
     <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code> elements have to be reconstructed in each paragraph, resulting in progressively
     more elements in each paragraph:</p>

     <pre class="bad">&lt;p&gt;&lt;i&gt;He dreamt.
&lt;p&gt;&lt;i&gt;He dreamt that he ate breakfast.
&lt;p&gt;&lt;i&gt;Then lunch.
&lt;p&gt;&lt;i&gt;And finally dinner.</pre>

     <p>The resulting DOM for this fragment would be:</p>

     <ul class="domTree"><li class="t1"><code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-p-element">p</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">He dreamt.</span></li></ul></li></ul></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-p-element">p</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">He dreamt that he ate breakfast.</span></li></ul></li></ul></li></ul></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-p-element">p</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">Then lunch.</span></li></ul></li></ul></li></ul></li></ul></li><li class="t1"><code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-p-element">p</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t1"><code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-i-element">i</a></code><ul><li class="t3"><code><a href="https://www.w3.org/TR/html5/infrastructure.html#text-0">#text</a></code>: <span data-anolis-xref="">And finally dinner.</span></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>

   </dd>


   <dt>Errors involving fragile syntax constructs</dt>

   <dd>

    <p>There are syntax constructs that, for historical reasons, are relatively fragile. To help
    reduce the number of users who accidentally run into such problems, they are made
    non-conforming.</p>

    <div class="example">

     <p>For example, the parsing of certain named character references in attributes happens even
     with the closing semicolon being omitted. It is safe to include an ampersand followed by
     letters that do not form a named character reference, but if the letters are changed to a
     string that <em>does</em> form a named character reference, they will be interpreted as that
     character instead.</p>

     <p>In this fragment, the attribute's value is "<code data-anolis-xref="">?bill&amp;ted</code>":</p>

     <pre class="bad">&lt;a href="?bill&amp;ted"&gt;Bill and Ted&lt;/a&gt;</pre>

     <p>In the following fragment, however, the attribute's value is actually "<code data-anolis-xref="">?art©</code>", <em>not</em> the intended "<code data-anolis-xref="">?art&amp;copy</code>",
     because even without the final semicolon, "<code data-anolis-xref="">&amp;copy</code>" is handled the same
     as "<code data-anolis-xref="">&amp;copy;</code>" and thus gets interpreted as "<code data-anolis-xref="">©</code>":</p>

     <pre class="bad">&lt;a href="?art&amp;copy"&gt;Art and Copy&lt;/a&gt;</pre>

     <p>To avoid this problem, all named character references are required to end with a semicolon,
     and uses of named character references without a semicolon are flagged as errors.</p>

     <p>Thus, the correct way to express the above cases is as
     follows:</p>

     <pre>&lt;a href="?bill&amp;ted"&gt;Bill and Ted&lt;/a&gt; &lt;!-- &amp;ted is ok, since it's not a named character reference --&gt;</pre>
     <pre>&lt;a href="?art&amp;amp;copy"&gt;Art and Copy&lt;/a&gt; &lt;!-- the &amp; has to be escaped, since &amp;copy <em>is</em> a named character reference --&gt;</pre>

    </div>

   </dd>


   <dt>Errors involving known interoperability problems in legacy user agents</dt>

   <dd>

    <p>Certain syntax constructs are known to cause especially subtle or serious problems in legacy
    user agents, and are therefore marked as non-conforming to help authors avoid them.</p>

    <div class="example">

     <p>For example, this is why the "`" (U+0060) character is not allowed in unquoted
     attributes. In certain legacy user agents,  <!-- namely IE -->  it is sometimes treated as a
     quote character.</p>

    </div>

    <div class="example">

     <p>Another example of this is the DOCTYPE, which is required to trigger <a href="https://www.w3.org/TR/html5/infrastructure.html#no-quirks-mode">no-quirks
     mode</a>, because the behavior of legacy user agents in <a href="https://www.w3.org/TR/html5/infrastructure.html#quirks-mode">quirks mode</a> is often
     largely undocumented.</p>

    </div>

   </dd><!--ADD-TOPIC:Security-->



   <dt>Errors that risk exposing authors to security attacks</dt>

   <dd>

    <p>Certain restrictions exist purely to avoid known security problems.</p>

    <div class="example">

     <p>For example, the restriction on using UTF-7 exists purely to avoid authors falling prey to a
     known cross-site-scripting attack using UTF-7. <a href="https://www.w3.org/TR/html5/references.html#refsUTF7">[UTF7]</a></p>

    </div>

   </dd><!--REMOVE-TOPIC:Security-->



   <dt>Cases where the author's intent is unclear</dt>

   <dd>

    <p>Markup where the author's intent is very unclear is often made non-conforming. Correcting
    these errors early makes later maintenance easier.</p>

    <div class="example">

     <p>For example, it is unclear whether the author intended the following to be an
     <code><a href="https://www.w3.org/TR/html5/sections.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h1</a></code> heading or an <code><a href="https://www.w3.org/TR/html5/sections.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements">h2</a></code> heading:</p>

     <pre class="bad">&lt;h1&gt;Contact details&lt;/h2&gt;</pre>

    </div>

   </dd>


   <dt>Cases that are likely to be typos</dt>

   <dd>

    <p>When a user makes a simple typo, it is helpful if the error can be caught early, as this can
    save the author a lot of debugging time. This specification therefore usually considers it an
    error to use element names, attribute names, and so forth, that do not match the names defined
    in this specification.</p>

    <div class="example">

     <p>For example, if the author typed <code>&lt;capton&gt;</code> instead of
     <code><a href="https://www.w3.org/TR/html5/tabular-data.html#the-caption-element">&lt;caption&gt;</a></code>, this would be flagged as an error and the author could correct the
     typo immediately.</p>

    </div>

   </dd>


   <dt>Errors that could interfere with new syntax in the future</dt>

   <dd>

    <p>In order to allow the language syntax to be extended in the future, certain otherwise
    harmless features are disallowed.</p>

    <div class="example">

     <p>For example, "attributes" in end tags are ignored currently, but they are invalid, in case a
     future change to the language makes use of that syntax feature without conflicting with
     already-deployed (and valid!) content.</p>

    </div>

   </dd>


  </dl><p>Some authors find it helpful to be in the practice of always quoting all attributes and always
  including all optional tags, preferring the consistency derived from such custom over the minor
  benefits of terseness afforded by making use of the flexibility of the HTML syntax. To aid such
  authors, conformance checkers can provide modes of operation wherein such conventions are
  enforced.</p>



  <h4 id="restrictions-on-content-models-and-on-attribute-values"><span class="secno">1.10.3 </span>内容模型和属性值的约束</h4>

  <p><i>本节是非规范性的。</i></p>
  <p>Beyond the syntax of the language, this specification also places restrictions on how elements
  and attributes can be specified. These restrictions are present for similar reasons:</p>

  <dl><dt>Errors involving content with dubious semantics</dt>

   <dd>

    <p>To avoid misuse of elements with defined meanings, content models are defined that restrict
    how elements can be nested when such nestings would be of dubious value.</p>

    <p class="example">For example, this specification disallows nesting a <code><a href="https://www.w3.org/TR/html5/sections.html#the-section-element">section</a></code>
    element inside a <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-kbd-element">kbd</a></code> element, since it is highly unlikely for an author to indicate
    that an entire section should be keyed in.</p>

   </dd>


   <dt>Errors that involve a conflict in expressed semantics</dt>

   <dd>

    <p>Similarly, to draw the author's attention to mistakes in the use of elements, clear
    contradictions in the semantics expressed are also considered conformance errors.</p>

    <div class="example">

     <p>In the fragments below, for example, the semantics are nonsensical: a separator cannot
     simultaneously be a cell, nor can a radio button be a progress bar.</p>

     <pre class="bad">&lt;hr role="cell"&gt;</pre>
     <pre class="bad">&lt;input type=radio role=progressbar&gt;</pre>

    </div>

    <p class="example">Another example is the restrictions on the content models of the
    <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-ul-element">ul</a></code> element, which only allows <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-li-element">li</a></code> element children. Lists by definition
    consist just of zero or more list items, so if a <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-ul-element">ul</a></code> element contains something
    other than an <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-li-element">li</a></code> element, it's not clear what was meant.</p>

   </dd>


   <dt>Cases where the default styles are likely to lead to confusion</dt>

   <dd>

    <p>Certain elements have default styles or behaviors that make certain combinations likely to
    lead to confusion. Where these have equivalent alternatives without this problem, the confusing
    combinations are disallowed.</p>

    <p class="example">For example, <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-div-element">div</a></code> elements are rendered as block boxes, and
    <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-span-element">span</a></code> elements as inline boxes. Putting a block box in an inline box is
    unnecessarily confusing; since either nesting just <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-div-element">div</a></code> elements, or nesting just
    <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-span-element">span</a></code> elements, or nesting <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-span-element">span</a></code> elements inside <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-div-element">div</a></code>
    elements all serve the same purpose as nesting a <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-div-element">div</a></code> element in a <code><a href="https://www.w3.org/TR/html5/text-level-semantics.html#the-span-element">span</a></code>
    element, but only the latter involves a block box in an inline box, the latter combination is
    disallowed.</p>

    <p class="example">Another example would be the way <a href="https://www.w3.org/TR/html5/dom.html#interactive-content-0">interactive content</a> cannot be
    nested. For example, a <code><a href="https://www.w3.org/TR/html5/forms.html#the-button-element">button</a></code> element cannot contain a <code><a href="https://www.w3.org/TR/html5/forms.html#the-textarea-element">textarea</a></code>
    element. This is because the default behavior of such nesting interactive elements would be
    highly confusing to users. Instead of nesting these elements, they can be placed side by
    side.</p>

   </dd>


   <dt>Errors that indicate a likely misunderstanding of the specification</dt>

   <dd>

    <p>Sometimes, something is disallowed because allowing it would likely cause author
    confusion.</p>

    <p class="example">For example, setting the <code data-anolis-xref="attr-fe-disabled"><a href="https://www.w3.org/TR/html5/forms.html#attr-fe-disabled">disabled</a></code>
    attribute to the value "<code data-anolis-xref="">false</code>" is disallowed, because despite the
    appearance of meaning that the element is enabled, it in fact means that the element is
    <em>disabled</em> (what matters for implementations is the presence of the attribute, not its
    value).</p>

   </dd>


   <dt>Errors involving limits that have been imposed merely to simplify the language</dt>

   <dd>

    <p>Some conformance errors simplify the language that authors need to learn.</p>

    <p class="example">For example, the <code><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-area-element">area</a></code> element's <code data-anolis-xref="attr-area-shape"><a href="https://www.w3.org/TR/html5/embedded-content-0.html#attr-area-shape">shape</a></code> attribute, despite accepting both <code data-anolis-xref="attr-area-shape-keyword-circ"><a href="https://www.w3.org/TR/html5/embedded-content-0.html#attr-area-shape-keyword-circ">circ</a></code> and <code data-anolis-xref="attr-area-shape-keyword-circle"><a href="https://www.w3.org/TR/html5/embedded-content-0.html#attr-area-shape-keyword-circle">circle</a></code> values in practice as synonyms, disallows
    the use of the <code data-anolis-xref="attr-area-shape-keyword-circ"><a href="https://www.w3.org/TR/html5/embedded-content-0.html#attr-area-shape-keyword-circ">circ</a></code> value, so as to simplify
    tutorials and other learning aids. There would be no benefit to allowing both, but it would
    cause extra confusion when teaching the language.</p>

   </dd>


   <dt>Errors that involve peculiarities of the parser</dt>

   <dd>

    <p>Certain elements are parsed in somewhat eccentric ways (typically for historical reasons),
    and their content model restrictions are intended to avoid exposing the author to these
    issues.</p>

    <div class="example">

     <p>For example, a <code><a href="https://www.w3.org/TR/html5/forms.html#the-form-element">form</a></code> element isn't allowed inside <a href="https://www.w3.org/TR/html5/dom.html#phrasing-content-1">phrasing content</a>,
     because when parsed as HTML, a <code><a href="https://www.w3.org/TR/html5/forms.html#the-form-element">form</a></code> element's start tag will imply a
     <code><a href="https://www.w3.org/TR/html5/grouping-content.html#the-p-element">p</a></code> element's end tag. Thus, the following markup results in two <a data-anolis-xref="paragraph" href="https://www.w3.org/TR/html5/dom.html#paragraph">paragraphs</a>, not one:</p>

     <pre>&lt;p&gt;Welcome. &lt;form&gt;&lt;label&gt;Name:&lt;/label&gt; &lt;input&gt;&lt;/form&gt;</pre>

     <p>It is parsed exactly like the following:</p>

     <pre>&lt;p&gt;Welcome. &lt;/p&gt;&lt;form&gt;&lt;label&gt;Name:&lt;/label&gt; &lt;input&gt;&lt;/form&gt;</pre>

    </div>

   </dd>


   <dt>Errors that would likely result in scripts failing in hard-to-debug ways</dt>

   <dd>

    <p>Some errors are intended to help prevent script problems that would be hard to debug.</p>

    <p class="example">This is why, for instance, it is non-conforming to have two <code data-anolis-xref="attr-id"><a href="https://www.w3.org/TR/html5/dom.html#the-id-attribute">id</a></code> attributes with the same value. Duplicate IDs lead to the wrong
    element being selected, with sometimes disastrous effects whose cause is hard to determine.</p>

   </dd>


   <dt>Errors that waste authoring time</dt>

   <dd>

    <p>Some constructs are disallowed because historically they have been the cause of a lot of
    wasted authoring time, and by encouraging authors to avoid making them, authors can save time in
    future efforts.</p>

    <p class="example">For example, a <code><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element">script</a></code> element's <code data-anolis-xref="attr-script-src"><a href="https://www.w3.org/TR/html5/scripting-1.html#attr-script-src">src</a></code> attribute causes the element's contents to be ignored.
    However, this isn't obvious, especially if the element's contents appear to be executable script
    — which can lead to authors spending a lot of time trying to debug the inline script
    without realizing that it is not executing. To reduce this problem, this specification makes it
    non-conforming to have executable script in a <code><a href="https://www.w3.org/TR/html5/scripting-1.html#the-script-element">script</a></code> element when the <code data-anolis-xref="attr-script-src"><a href="https://www.w3.org/TR/html5/scripting-1.html#attr-script-src">src</a></code> attribute is present. This means that authors who are
    validating their documents are less likely to waste time with this kind of mistake.</p>

   </dd>


   <dt>Errors that involve areas that affect authors migrating to and from XHTML</dt>

   <dd>

    <p>Some authors like to write files that can be interpreted as both XML and HTML with similar
    results. Though this practice is discouraged in general due to the myriad of subtle
    complications involved (especially when involving scripting, styling, or any kind of automated
    serialization), this specification has a few restrictions intended to at least somewhat mitigate
    the difficulties. This makes it easier for authors to use this as a transitionary step when
    migrating between HTML and XHTML.</p>

    <p class="example">For example, there are somewhat complicated rules surrounding the <code data-anolis-xref="attr-lang"><a href="https://www.w3.org/TR/html5/dom.html#attr-lang">lang</a></code> and <code data-anolis-xref="attr-xml-lang"><a href="https://www.w3.org/TR/html5/dom.html#attr-xml-lang">xml:lang</a></code> attributes
    intended to keep the two synchronized.</p>

    <p class="example">Another example would be the restrictions on the values of <code data-anolis-xref="">xmlns</code> attributes in the HTML serialization, which are intended to ensure that
    elements in conforming documents end up in the same namespaces whether processed as HTML or
    XML.</p>

   </dd>


   <dt>Errors that involve areas reserved for future expansion</dt>

   <dd>

    <p>As with the restrictions on the syntax intended to allow for new syntax in future revisions
    of the language, some restrictions on the content models of elements and values of attributes
    are intended to allow for future expansion of the HTML vocabulary.</p>

    <p class="example">For example, limiting the values of the <code data-anolis-xref="attr-hyperlink-target"><a href="https://www.w3.org/TR/html5/links.html#attr-hyperlink-target">target</a></code> attribute that start with an "_" (U+005F) character to only specific predefined values allows new predefined values to be introduced
    at a future time without conflicting with author-defined values.</p>

   </dd>


   <dt>Errors that indicate a mis-use of other specifications</dt>

   <dd>

    <p>Certain restrictions are intended to support the restrictions made by other
    specifications.</p>

    <p class="example">For example, requiring that attributes that take media queries use only
    <em>valid</em> media queries reinforces the importance of following the conformance rules of
    that specification.</p>

   </dd>

  </dl><h3 id="suggested-reading"><span class="secno">1.11 </span>推荐阅读</h3>

  <p><i>本节是非规范性的。</i></p>
  <p>The following documents might be of interest to readers of this specification.</p>

  <dl><dt><cite>Character Model for the World Wide Web 1.0: Fundamentals</cite> <a href="https://www.w3.org/TR/html5/references.html#refsCHARMOD">[CHARMOD]</a></dt>

   <dd><blockquote><p>This Architectural Specification provides authors of specifications, software
   developers, and content developers with a common reference for interoperable text manipulation on
   the World Wide Web, building on the Universal Character Set, defined jointly by the Unicode
   Standard and ISO/IEC 10646. Topics addressed include use of the terms 'character', 'encoding' and
   'string', a reference processing model, choice and identification of character encodings,
   character escaping, and string indexing.</p></blockquote></dd>

   <dt><cite>Unicode Security Considerations</cite> <a href="https://www.w3.org/TR/html5/references.html#refsUTR36">[UTR36]</a></dt>

   <dd><blockquote><p>Because Unicode contains such a large number of characters and incorporates
   the varied writing systems of the world, incorrect usage can expose programs or systems to
   possible security attacks. This is especially important as more and more products are
   internationalized. This document describes some of the security considerations that programmers,
   system analysts, standards developers, and users should take into account, and provides specific
   recommendations to reduce the risk of problems.</p></blockquote></dd>

   <dt><cite>Web Content Accessibility Guidelines (WCAG) 2.0</cite> <a href="https://www.w3.org/TR/html5/references.html#refsWCAG">[WCAG]</a></dt>

   <dd><blockquote><p>Web Content Accessibility Guidelines (WCAG) 2.0 covers a wide range of
   recommendations for making Web content more accessible. Following these guidelines will make
   content accessible to a wider range of people with disabilities, including blindness and low
   vision, deafness and hearing loss, learning disabilities, cognitive limitations, limited
   movement, speech disabilities, photosensitivity and combinations of these. Following these
   guidelines will also often make your Web content more usable to users in
   general.</p></blockquote></dd>

   <dt class="impl"><cite>Authoring Tool Accessibility Guidelines (ATAG) 2.0</cite> <a href="https://www.w3.org/TR/html5/references.html#refsATAG">[ATAG]</a></dt>

   <dd class="impl"><blockquote><p>This specification provides guidelines for designing Web content
   authoring tools that are more accessible for people with disabilities. An authoring tool that
   conforms to these guidelines will promote accessibility by providing an accessible user interface
   to authors with disabilities as well as by enabling, supporting, and promoting the production of
   accessible Web content by all authors.</p></blockquote></dd>

   <dt class="impl"><cite>User Agent Accessibility Guidelines (UAAG) 2.0</cite> <a href="https://www.w3.org/TR/html5/references.html#refsUAAG">[UAAG]</a></dt>

   <dd class="impl"><blockquote><p>This document provides guidelines for designing user agents that
   lower barriers to Web accessibility for people with disabilities. User agents include browsers
   and other types of software that retrieve and render Web content. A user agent that conforms to
   these guidelines will promote accessibility through its own user interface and through other
   internal facilities, including its ability to communicate with other technologies (especially
   assistive technologies). Furthermore, all users, not just users with disabilities, should find
   conforming user agents to be more usable.</p></blockquote></dd>

   <dt><cite>Polyglot Markup: HTML-Compatible XHTML Documents</cite> <a href="https://www.w3.org/TR/html5/references.html#refsPOLYGLOT">[POLYGLOT]</a></dt>

   <dd><blockquote><p>A document that uses polyglot markup is a document
   that is a stream of bytes that parses into identical document trees
   (with the exception of the xmlns attribute on the root element)
   when processed as HTML and when processed as XML. Polyglot markup
   that meets a well defined set of constraints is interpreted as
   compatible, regardless of whether they are processed as HTML or as
   XHTML, per the HTML5 specification. Polyglot markup uses a specific
   DOCTYPE, namespace declarations, and a specific case —
   normally lower case but occasionally camel case — for element
   and attribute names. Polyglot markup uses lower case for certain
   attribute values. Further constraints include those on empty
   elements, named entity references, and the use of scripts and
   style.</p></blockquote></dd><!--(the following is not included in the WHATWG spec for quality reasons)--><!--HPAAIG-->


   <dt><cite>HTML to Platform Accessibility APIs Implementation Guide</cite> <a href="https://www.w3.org/TR/html5/references.html#refsHPAAIG">[HPAAIG]</a></dt>

   <dd><blockquote><p>This is draft documentation mapping HTML
   elements and attributes to accessibility API Roles, States and
   Properties on a variety of platforms. It provides recommendations
   on deriving the accessible names and descriptions for HTML
   elements. It also provides accessible feature implementation
   examples.</p></blockquote></dd><!--HPAAIG-->

  </dl></body></html>